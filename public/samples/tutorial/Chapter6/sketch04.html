<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <style>
    body { margin: 0; }
    canvas { display: block; }
    </style>
    <script src="/js/libs/p5.js"></script>
    <script src="/js/libs/p5.dom.js"></script>
    <script>
        "use strict";
        
        var isLoop = false;
        
        var x, y;
        var vx, vy;
        var ballSize;
        
        function setup() {
            createCanvas(window.innerWidth, window.innerHeight);
            noLoop();
            init();
        }
        
        function init() {
            frameRate(60);
            x = width/2;
            y = height/2;
            vx = 3;
            vy = 2;
            ballSize = 40;
            noStroke();
            fill(255);
        }
        
        function draw() {
            background(180);
            
            // ボールを描画
            ellipse(x, y, ballSize, ballSize);

            // ボールを動かす
            x += vx;
            y += vy;

            // 左の壁にぶつかったら
            if (x-ballSize/2 <= 0) {
              vx *= -1; // x軸方向の速度反転
            }
            // 右の壁にぶつかったら
            if (x+ballSize/2 >= width) {
              vx *= -1; // x軸方向の速度反転
            }
            // 上の壁にぶつかったら
            if (y-ballSize/2 <= 0) {
              vy *= -1; // y軸方向の速度反転
            }
            // 下の壁にぶつかったら
            if (y+ballSize/2 >= height) {
              vy *= -1; // y軸方向の速度反転
            }
        }
        
        function windowResized() {
            resizeCanvas(window.innerWidth, window.innerHeight);
        }
        
        function switchLoop() {
            if (isLoop) {
                noLoop();
                isLoop = false;
            } else {
                loop();
                isLoop = true;
            }
        }
        
        window.addEventListener("mouseover", switchLoop, false);
        window.addEventListener("mouseout", switchLoop, false);
    </script>
</head>
<body>
</body>
</html>
