<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
    <title>P5 Code School Chapter7「繰り返し」</title>
    <link href="https://fonts.googleapis.com/css?family=Elsie+Swash+Caps" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/libs/jquery.js"></script>
    <script src="/js/libs/p5.js"></script>
    <script src="/js/libs/p5.dom.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/header-sketch.js"></script>
</head>

<body>
    <div id="p5Header"></div>
    <header id="header">
        <span id="title-p5">P5</span>
        <span id="title-code">Code</span>
        <span id="title-school">School</span>
    </header>

<div id="mainNavigation">
    <nav class="page-navi">
        <h3 class="side-title">Contents</h3>
        <ul>
            <li>
                <a href="/index.html">
                    <div class="link-text">トップ</div>
                    <div class="rect"></div>
                    <div class="line"></div>
                </a>
            </li>
            <li>
                <a href="/tutorial/index.html">
                    <div class="link-text">チュートリアル</div>
                    <div class="rect"></div>
                    <div class="line"></div>
                </a>
            </li>
            
            <li>
                <a href="/tutorial/chapter6">
                    <div class="link-text">前のChapter</div>
                    <div class="rect"></div>
                    <div class="line"></div>
                </a>
            </li>
            
            
            <li>
                <a href="/tutorial/chapter8">
                    <div class="link-text">次のChapter</div>
                    <div class="rect"></div>
                    <div class="line"></div>
                </a>
            </li>
            
        </ul>
    </nav>
    <div class="author">
        <h3 class="side-title">Author</h3>
        <ul>
            <li>
                <a href="https://twitter.com/P5Aholic" target="_blank">
                    <div class="link-text">Twitter</div>
                    <div class="rect"></div>
                    <div class="line"></div>
                </a>
            </li>
            <li>
                <a href="http://p5aholic.hatenablog.com/" target="_blank">
                    <div class="link-text">Blog</div>
                    <div class="rect"></div>
                    <div class="line"></div>
                </a>
            </li>
        </ul>
    </div>
    
    <div id="naviControll">
        <div id="layer1"></div>
        <div id="layer2"></div>
        <div id="layer3"></div>
    </div>
</div>

<article id="mainContents">
    <h1>繰り返し</h1><h2>whileループ</h2><p>とりあえず次のプログラムを実行してみてください。</p>
<iframe src="/samples/tutorial/Chapter7/sketch01.html" class="sample-sketch"></iframe>

<p><a href='https://github.com/p5aholic/p5codeschool/blob/master/samples/Chapter7/sketch01/sketch01.pde' target='_blank'>Chapter7/sketch01.pde</a></p>
<pre><code class="lang-processing"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span>() {
  <span class="hljs-built_in">size</span>(<span class="hljs-number">750</span>, <span class="hljs-number">350</span>);
  <span class="hljs-built_in">stroke</span>(<span class="hljs-number">255</span>);
}

<span class="hljs-keyword">void</span> <span class="hljs-title">draw</span>() {
  <span class="hljs-built_in">background</span>(<span class="hljs-number">128</span>);

  <span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (i &lt;= <span class="hljs-number">50</span>) {
    <span class="hljs-built_in">line</span>(i * (<span class="hljs-built_in">width</span>/<span class="hljs-number">50</span>), <span class="hljs-built_in">height</span>/<span class="hljs-number">2</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
    i++;
  }
}
</code></pre>
<p>全部で51本の線が描画されていますが、プログラム内にline()関数は１つしか書いていません。繰り返し文を使うとこのように何度も繰り返したい文を簡単に書くことができます。</p>
<p>繰り返し文にはwhileループとforループがあります。while文による繰り返しは次のようにして書くことができます。</p>
<p><code class='code-fragment'>while (条件式) {
  // 繰り返したい処理
}</code></p>
<p>if文とかなり似ていますが、while文は条件式が真の間ブロック{}で囲んだ中の処理が繰り返し実行されます。条件式が偽になるとループを抜けます。 whileループによるプログラムの実行過程を図示すると次のようになります。</p>
<p><img src="/images/Chapter7/WhileLoop.jpg" alt=""></p>
<p>上のプログラムでは、まずループ回数のカウント用変数iを宣言しています。 while文の条件式にi &lt;= 50、while文のブロック内でi++としているので、一回のループごとにiが1ずつ足されていき、iが51になるまでブロック内の処理が繰り返されます。i = 0からi = 50までのループなので、総ループ数は51回になります。iはline()の１つ目のパラメータにも使います。i * 14(700 ÷ 50 = 14)とすることで14px間隔で線を描画できます。</p>
<h2>forループ</h2><p>for文による繰り返し文の書き方を解説していきます。for文は以下のように書きます。</p>
<p><code class='code-fragment'>for (初期化; 条件式; 更新) {
  // 繰り返したい処理
}</code></p>
<p>for文の()内に書く初期化は、for文の実行時に１度だけ実行されます。ループの度に実行されるわけではありません。次の条件式はwhile文と同じで、この条件式が真の間ループが続きます。最後の更新は１ループが終わるごとに実行されます。forループによるプログラムの実行過程を図示すると次のようになります。</p>
<p><img src="/images/Chapter7/ForLoop.jpg" alt="image"></p>
<p>上のプログラムをwhile文の代わりにfor文で書き換えたのが次のプログラムです。動作は全く同じです。上のプログラムでのwhile文による繰り返し文と、次のプログラムでのfor文による繰り返し文が対応していることを確認してください。</p>
<iframe src="/samples/tutorial/Chapter7/sketch02.html" class="sample-sketch"></iframe>

<p><a href='https://github.com/p5aholic/p5codeschool/blob/master/samples/Chapter7/sketch02/sketch02.pde' target='_blank'>Chapter7/sketch02.pde</a></p>
<pre><code class="lang-processing"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span>() {
  <span class="hljs-built_in">size</span>(<span class="hljs-number">750</span>, <span class="hljs-number">350</span>);
  <span class="hljs-built_in">stroke</span>(<span class="hljs-number">255</span>);
}

<span class="hljs-keyword">void</span> <span class="hljs-title">draw</span>() {
  <span class="hljs-built_in">background</span>(<span class="hljs-number">128</span>);

  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">50</span>; i++) {
    <span class="hljs-built_in">line</span>(i * (<span class="hljs-built_in">width</span>/<span class="hljs-number">50</span>), <span class="hljs-built_in">height</span>/<span class="hljs-number">2</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  }
}
</code></pre>
<p>for文で用いるカウンタ変数は、for文内で宣言する場合は同じ変数名をもう一度使うことができます。</p>
<p><a href='https://github.com/p5aholic/p5codeschool/blob/master/samples/Chapter7/sketch03/sketch03.pde' target='_blank'>Chapter7/sketch03.pde</a></p>
<pre><code class="lang-processing"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span>() {
  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
    <span class="hljs-built_in">println</span>(i);
  }
  <span class="hljs-comment">// もう一度変数名にiを使う</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">10</span>; i &lt; <span class="hljs-number">15</span>; i++) {
    <span class="hljs-built_in">println</span>(i);
  }
}
</code></pre>
<p>変数の寿命のことを思い出してみましょう。変数は、その変数が宣言された行以降の同じブロック内が有効範囲です。ブロックを抜けるとその変数の有効範囲が終わります。for文の中で宣言されたiなどのカウンタ変数の有効範囲はfor文のブロック内になります。変数iの有効範囲内で同名の変数は使えませんが、１つ目のfor文がループを抜けた時点で変数iの有効範囲を抜けているので、２つ目のfor文でもう一度変数名にiを使うことができるわけです。</p>
<h2>２重for文</h2><p>for文の中にfor文を作って2重for文を作ることもできます。</p>
<iframe src="/samples/tutorial/Chapter7/sketch04.html" class="sample-sketch"></iframe>

<p><a href='https://github.com/p5aholic/p5codeschool/blob/master/samples/Chapter7/sketch04/sketch04.pde' target='_blank'>Chapter7/sketch04.pde</a></p>
<pre><code class="lang-processing"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span>() {
  <span class="hljs-built_in">size</span>(<span class="hljs-number">750</span>, <span class="hljs-number">350</span>);
  <span class="hljs-built_in">stroke</span>(<span class="hljs-number">255</span>);
}

<span class="hljs-keyword">void</span> <span class="hljs-title">draw</span>() {
  <span class="hljs-built_in">background</span>(<span class="hljs-number">128</span>);

  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> x = <span class="hljs-number">0</span>; x &lt;= <span class="hljs-built_in">width</span>; x += <span class="hljs-number">150</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> y = <span class="hljs-number">0</span>; y &lt;= <span class="hljs-built_in">height</span>; y += <span class="hljs-number">50</span>) {
      <span class="hljs-built_in">line</span>(x, y, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
    }
  }
}
</code></pre>
<p>この２重for文の実行過程をfor文を使わずに全て書き出すと次のようになります。</p>
<p><a href='https://github.com/p5aholic/p5codeschool/blob/master/samples/Chapter7/sketch05/sketch05.pde' target='_blank'>Chapter7/sketch05.pde</a></p>
<pre><code class="lang-processing"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span>() {
  <span class="hljs-built_in">size</span>(<span class="hljs-number">750</span>, <span class="hljs-number">350</span>);
  <span class="hljs-built_in">stroke</span>(<span class="hljs-number">255</span>);
}

<span class="hljs-keyword">void</span> <span class="hljs-title">draw</span>() {
  <span class="hljs-built_in">background</span>(<span class="hljs-number">128</span>);

  <span class="hljs-comment">// x = 0のとき</span>
  <span class="hljs-built_in">line</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">0</span>, <span class="hljs-number">150</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">0</span>, <span class="hljs-number">250</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">0</span>, <span class="hljs-number">300</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">0</span>, <span class="hljs-number">350</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-comment">// x = 150のとき</span>
  <span class="hljs-built_in">line</span>(<span class="hljs-number">150</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">150</span>, <span class="hljs-number">50</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">150</span>, <span class="hljs-number">150</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">150</span>, <span class="hljs-number">200</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">150</span>, <span class="hljs-number">250</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">150</span>, <span class="hljs-number">300</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">150</span>, <span class="hljs-number">350</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-comment">// x = 300のとき</span>
  <span class="hljs-built_in">line</span>(<span class="hljs-number">300</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">300</span>, <span class="hljs-number">50</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">300</span>, <span class="hljs-number">150</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">300</span>, <span class="hljs-number">200</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">300</span>, <span class="hljs-number">250</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">300</span>, <span class="hljs-number">350</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-comment">// x = 450のとき</span>
  <span class="hljs-built_in">line</span>(<span class="hljs-number">450</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">450</span>, <span class="hljs-number">50</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">450</span>, <span class="hljs-number">150</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">450</span>, <span class="hljs-number">200</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">450</span>, <span class="hljs-number">250</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">450</span>, <span class="hljs-number">300</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">450</span>, <span class="hljs-number">350</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-comment">// x = 600のとき</span>
  <span class="hljs-built_in">line</span>(<span class="hljs-number">600</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">600</span>, <span class="hljs-number">50</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">600</span>, <span class="hljs-number">150</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">600</span>, <span class="hljs-number">200</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">600</span>, <span class="hljs-number">250</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">600</span>, <span class="hljs-number">300</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">600</span>, <span class="hljs-number">350</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-comment">// x = 750のとき</span>
  <span class="hljs-built_in">line</span>(<span class="hljs-number">750</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">750</span>, <span class="hljs-number">50</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">750</span>, <span class="hljs-number">150</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">750</span>, <span class="hljs-number">200</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">750</span>, <span class="hljs-number">250</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">750</span>, <span class="hljs-number">300</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
  <span class="hljs-built_in">line</span>(<span class="hljs-number">750</span>, <span class="hljs-number">350</span>, <span class="hljs-built_in">mouseX</span>, <span class="hljs-built_in">mouseY</span>);
}
</code></pre>
<p>外側のfor文でx座標、内側のfor文でy座標を表す場合と、その逆の場合では次のような違いがあります。</p>
<iframe src="/samples/tutorial/Chapter7/sketch06.html" class="sample-sketch"></iframe>

<p><a href='https://github.com/p5aholic/p5codeschool/blob/master/samples/Chapter7/sketch06/sketch06.pde' target='_blank'>Chapter7/sketch06.pde</a></p>
<pre><code class="lang-processing"><span class="hljs-built_in">size</span>(<span class="hljs-number">750</span>, <span class="hljs-number">350</span>);
<span class="hljs-built_in">background</span>(<span class="hljs-number">255</span>);
<span class="hljs-built_in">colorMode</span>(HSB, <span class="hljs-number">360</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);

<span class="hljs-built_in">int</span> boxW = <span class="hljs-built_in">width</span>/<span class="hljs-number">10</span>;  <span class="hljs-comment">// 長方形の幅</span>
<span class="hljs-built_in">int</span> boxH = <span class="hljs-built_in">height</span>/<span class="hljs-number">10</span>; <span class="hljs-comment">// 長方形の高さ</span>
<span class="hljs-built_in">int</span> <span class="hljs-built_in">brightness</span> = <span class="hljs-number">0</span>;   <span class="hljs-comment">// 明度</span>

<span class="hljs-built_in">noStroke</span>();
<span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> x = <span class="hljs-number">0</span>; x &lt; <span class="hljs-number">10</span>; x++) {
  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> y = <span class="hljs-number">0</span>; y &lt; <span class="hljs-number">10</span>; y++) {
    <span class="hljs-built_in">fill</span>(<span class="hljs-number">210</span>, <span class="hljs-number">80</span>, <span class="hljs-built_in">brightness</span>);
    <span class="hljs-built_in">rect</span>(x*boxW, y*boxH, boxW, boxH);
    <span class="hljs-comment">// 徐々に明るくしていく</span>
    <span class="hljs-built_in">brightness</span>++;
  }
}
</code></pre>
<iframe src="/samples/tutorial/Chapter7/sketch07.html" class="sample-sketch"></iframe>

<p><a href='https://github.com/p5aholic/p5codeschool/blob/master/samples/Chapter7/sketch07/sketch07.pde' target='_blank'>Chapter7/sketch07.pde</a></p>
<pre><code class="lang-processing"><span class="hljs-built_in">size</span>(<span class="hljs-number">750</span>, <span class="hljs-number">350</span>);
<span class="hljs-built_in">background</span>(<span class="hljs-number">255</span>);
<span class="hljs-built_in">colorMode</span>(HSB, <span class="hljs-number">360</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);

<span class="hljs-built_in">int</span> boxW = <span class="hljs-built_in">width</span>/<span class="hljs-number">10</span>;
<span class="hljs-built_in">int</span> boxH = <span class="hljs-built_in">height</span>/<span class="hljs-number">10</span>;
<span class="hljs-built_in">int</span> <span class="hljs-built_in">brightness</span> = <span class="hljs-number">0</span>;

<span class="hljs-built_in">noStroke</span>();
<span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> y = <span class="hljs-number">0</span>; y &lt; <span class="hljs-number">10</span>; y++) {
  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> x = <span class="hljs-number">0</span>; x &lt; <span class="hljs-number">10</span>; x++) {
    <span class="hljs-built_in">fill</span>(<span class="hljs-number">210</span>, <span class="hljs-number">80</span>, <span class="hljs-built_in">brightness</span>);
    <span class="hljs-built_in">rect</span>(x*boxW, y*boxH, boxW, boxH);
    <span class="hljs-built_in">brightness</span>++;
  }
}
</code></pre>
<p>２重for文による図形の描画順を番号で示すと次のようになります。</p>
<p>外側のfor文でx座標、内側のfor文でy座標を表す場合</p>
<p><img src="/images/Chapter7/NestedFor1.jpg" alt="image"></p>
<p>外側のfor文でy座標、内側のfor文でx座標を表す場合</p>
<p><img src="/images/Chapter7/NestedFor2.jpg" alt="image"></p>
<p>for文の中で条件分岐を使い、描画する図形を切り替えることもできます。</p>
<iframe src="/samples/tutorial/Chapter7/sketch08.html" class="sample-sketch"></iframe>

<p><a href='https://github.com/p5aholic/p5codeschool/blob/master/samples/Chapter7/sketch08/sketch08.pde' target='_blank'>Chapter7/sketch08.pde</a></p>
<pre><code class="lang-processing"><span class="hljs-built_in">size</span>(<span class="hljs-number">750</span>, <span class="hljs-number">350</span>);
<span class="hljs-built_in">background</span>(<span class="hljs-number">255</span>);

<span class="hljs-built_in">int</span> boxW = <span class="hljs-built_in">width</span>/<span class="hljs-number">10</span>;
<span class="hljs-built_in">int</span> boxH = <span class="hljs-built_in">height</span>/<span class="hljs-number">10</span>;
<span class="hljs-built_in">int</span> <span class="hljs-built_in">brightness</span> = <span class="hljs-number">0</span>;

<span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> x = <span class="hljs-number">0</span>; x &lt; <span class="hljs-number">10</span>; x++) {
  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> y = <span class="hljs-number">0</span>; y &lt; <span class="hljs-number">10</span>; y++) {
    <span class="hljs-comment">// xが偶数のとき</span>
    <span class="hljs-keyword">if</span> (x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) {
      <span class="hljs-built_in">noStroke</span>();
      <span class="hljs-built_in">fill</span>(<span class="hljs-number">30</span>);
    }
    <span class="hljs-comment">// xが奇数のとき</span>
    <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">stroke</span>(<span class="hljs-number">30</span>);
      <span class="hljs-built_in">strokeWeight</span>(<span class="hljs-number">2</span>);
      <span class="hljs-built_in">noFill</span>();
    }
    <span class="hljs-built_in">rect</span>(x*boxW, y*boxH, boxW, boxH);
  }
}
</code></pre>
<p>次のプログラムでは、マウスと重なっている長方形にだけｘを描画しています。</p>
<iframe src="/samples/tutorial/Chapter7/sketch09.html" class="sample-sketch"></iframe>

<p><a href='https://github.com/p5aholic/p5codeschool/blob/master/samples/Chapter7/sketch09/sketch09.pde' target='_blank'>Chapter7/sketch09.pde</a></p>
<pre><code class="lang-processing"><span class="hljs-built_in">int</span> boxW, boxH;

<span class="hljs-keyword">void</span> <span class="hljs-title">setup</span>() {
  <span class="hljs-built_in">size</span>(<span class="hljs-number">750</span>, <span class="hljs-number">350</span>);
  <span class="hljs-built_in">noFill</span>();
  <span class="hljs-built_in">stroke</span>(<span class="hljs-number">30</span>);
  <span class="hljs-built_in">strokeWeight</span>(<span class="hljs-number">3</span>);
  boxW = <span class="hljs-built_in">width</span>/<span class="hljs-number">10</span>;
  boxH = <span class="hljs-built_in">height</span>/<span class="hljs-number">10</span>;
}

<span class="hljs-keyword">void</span> <span class="hljs-title">draw</span>() {
  <span class="hljs-built_in">background</span>(<span class="hljs-number">255</span>);

  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> x = <span class="hljs-number">0</span>; x &lt; <span class="hljs-number">10</span>; x++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> y = <span class="hljs-number">0</span>; y &lt; <span class="hljs-number">10</span>; y++) {
      <span class="hljs-comment">// マウスと重なっている長方形に×を描画</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">mouseX</span> &gt;= x*boxW &amp;&amp; <span class="hljs-built_in">mouseX</span> &lt;= x*boxW+boxW &amp;&amp; <span class="hljs-built_in">mouseY</span> &gt;= y*boxH &amp;&amp; <span class="hljs-built_in">mouseY</span> &lt;= y*boxH+boxH) {
        <span class="hljs-built_in">line</span>(x*boxW, y*boxH, x*boxW+boxW, y*boxH+boxH);
        <span class="hljs-built_in">line</span>(x*boxW, y*boxH+boxH, x*boxW+boxW, y*boxH);
      }
      <span class="hljs-built_in">rect</span>(x*boxW, y*boxH, boxW, boxH);
    }
  }
}
</code></pre>
<p>長方形の角の座標は、左上の角(x<em>boxW, y</em>boxH)、右下の角(x<em>boxW+boxW, y</em>boxH+boxH) のように表せるので、この範囲にマウスがあるかどうかをif文で判定しています。</p>
<p>お疲れさまでした。Chapter7はこれで終了です。</p>

</article>
    <footer>
        <p>&copy P5 Code School 2015</p>
    </footer>
</body>
</html>

